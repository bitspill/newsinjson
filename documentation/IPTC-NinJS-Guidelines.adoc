= image:iptc_sv_gradient_70x70.jpg[IPTC logo] NinJS Guidelines
keywords: iptc, news, story, article, media, json, javascript, markup, schema, metadata,
:doctype: book
:imagesdir: ./images
:includedir: ./_includes
:stylesdir: stylesheets/
:stylesheet: asciidoctor-iptc-stds-02.css
:source-highlighter: highlight.js
:source-language: asciidoc
:icons: font
:author: IPTC News in JSON Working Group
:email: office@iptc.org
:version-label: Standard Version
:revnumber: 1.1
:revremark: Revised 2019-08-27
:toc: left
:toclevels: 2
:nofooter:
:sectnumlevels: 3

== Introduction: ninjs is News in JSON

ninjs standardises the representation of news content in JSON, a lightweight,
easy-to-parse data interchange format. 

We have identified key properties and structures required to represent news and
publishing information, and crafted JSON representations that are designed to
result in lightweight instance documents. And we've built a JSON schema for
ninjs to help you <<How to validate objects,validate your ninjs
implementation>>.

https://iptc.org/std/ninjs/ninjs-schema_1.0.json[Version 1.0 of the ninjs
schema] was approved by the IPTC Standards Committee on 23 October 2013.

https://iptc.org/std/ninjs/ninjs-schema_1.1.json[Version 1.1 of the ninjs
schema] was made available in March 2014 and an error was corrected in September
2017.

The IPTC welcomes your feedback on how to improve the standard via the
https://groups.io/g/iptc-ninjs[public ninjs discussion group].

Staff from IPTC Member organisations are welcome to join the 
https://groups.io/g/iptc-news-in-json-dev[members-only discussion list for the
ninjs development team].

=== Built for both APIs and data at rest

In creating ninjs, we focused on two main use cases:

. Data interchange - such as via APIs
* ninjs documents can be very concise, allowing for the inclusion of just the
most important properties - such as byline, headline, and body text - as
determined by a given provider.
*  ninjs allows the provider to indicate whether there are more properties
available, if the recipient would like to request more.
. Data at rest - such as in search engines or content management systems
* ninjs documents can convey a rich set of news publishing properties, such as
information that is necessary for the pre-publishing workflow or custom
properties that a particular provider wants to express in a standard way.
* ninjs is designed to be customisable by a particular provider, so that they
can express just what they require, without unnecessary overhead ninjs is
suitable for use in JSON-native engines, such as
http://www.mongodb.org/[MongoDB] or
http://www.elasticsearch.org/[Elasticsearch].

=== ninjs Data Model in a nutshell

As the below diagram shows, every ninjs object describes a *News Item*. All
ninjs items have a unique ID given by a *URI*. They can have administrative
metadata, describing who created the news item and when,  descriptive metadata
describing *people*, *places*, *subjects*, *organisations* and *events* related
to the news item.

The content itself can be a *body*, containing text, HTML or other
representation of the text of a news item, *renditions* of the news item as
images, videos or multimedia, or both body and renditions. *Associations* are a
means of linking news items together.

image:ninjsScope-w800.jpg[ninjs Data Model diagram]

=== ninjs Object Building Blocks

image:ninjs_blocks_callouts.jpg[ninjs Object Building Blocks diagram]

=== A Simple Example

ninjs can be very simple. This is an example of something that might be returned
by an API call.

[source,json]
{
  "uri" : "http://ninjs.example.com/newsitems/20130709simp123",
  "type" : "text",
  "versioncreated" : "2013-07-09T10:37:00Z",
  "byline" : "Paulo Santalucia and Frances d'Emilio",
  "headline" : "Captain of wrecked cruise ship on trial in Italy",
  "body_text" : "GROSSETO, Italy (AP) -- The trial of the captain of the
  shipwrecked Costa Concordia cruise liner has begun in a theater
  converted into a courtroom in Tuscany to accommodate all the survivors and
  relatives of the 32 victims who want to see justice carried out in the 2012
  tragedy. The sole defendant, Francesco Schettino, his eyes shaded by
  sunglasses and slipping into a back door, made no comment to reporters as he
  arrived for his trial Tuesday on charges of multiple manslaughter, abandoning
  ship and causing the shipwreck near the island of Giglio. His lawyer, Domenico
  Pepe, told reporters that, as expected, the judge was postponing the hearing
  due to an eight-day nationwide lawyers' strike. Pepe said some 1,000 witnesses
  are expected to eventually testify. Many of them are expected to be from among
  the 4,2000 passengers and crew aboard the ship that struck a jagged reef off
  Giglio, took on water and capsized. Schettino has denied wrongdoing."
}

=== ninjs and Other Standards

JSON is an increasingly popular
http://blog.programmableweb.com/2011/05/25/1-in-5-apis-say-bye-xml/[alternative to]
(or
http://blog.appfog.com/why-json-will-continue-to-push-xml-out-of-the-picture/[replacement
for]) XML. ninjs is designed to be used alongside other https://iptc.org/standards/[IPTC formats], including https://iptc.org/standards/newsml-g2/[NewsML-G2],
https://iptc.org/standards/iptc-7901/[IPTC7901] and https://iptc.org/standards/rnews/[rNews].

== About the IPTC ninjs Guidelines

=== Copyright

Copyright © 2019 IPTC, International Press Telecommunications Council.

The IPTC ninjs Guidelines document is published under the 
http://creativecommons.org/licenses/by/4.0/[Creative Commons Attribution 4.0 license]
- see the full license agreement at http://creativecommons.org/licenses/by/4.0/.

By obtaining, using and/or copying this document, you (the licensee) agree that you have read, understood, and will comply with the terms and conditions of the license.

Materials used in this guide are either in the public domain or are available with the permission of their respective copyright holders. All materials of this IPTC standard covered by copyright shall be licensable at no charge.

=== Acknowledgements

This document is the result of a team effort by members of the News in JSON
Working Group of the International Press Telecommunications Council (IPTC), with
input and assistance from other contributors.

Contributors to this document include (in alphabetical order):
Michael Steidl (IPTC),
Brendan Quinn (IPTC).

=== How to contact IPTC

Join the public IPTC ninjs discussion group: https://groups.io/g/iptc-ninjs/

Submit a message on our website: https://iptc.org/about-iptc/contact-us/

Visit IPTC's website: https://iptc.org/standards/ninjs/

Follow IPTC on Twitter: http://www.twitter.com/IPTC/[@IPTC]

=== About IPTC

The IPTC, based in London, brings together the world’s leading news agencies,
publishers and industry vendors. It develops and promotes efficient technical
standards to improve the management and exchange of information between content
providers, intermediaries and consumers. The standards enable easy,
cost-effective and rapid innovation and include the IPTC Photo Metadata
standard, the Video Metadata Hub, the news exchange formats NewsML-G2, ninjs,
SportsML-G2 and NITF, rNews for marking up online news, the rights expression
language RightsML, and NewsCodes taxonomies for categorising news.

IPTC is a not-for-profit membership organisation registered in England.
https://iptc.org/participate/[Find more about membership].

Business address:

 IPTC International Press Telecommunications Council
 25 Southampton Buildings
 London WC2A 1AL
 United Kingdom

== ninjs Examples

=== Text-only examples

==== A simple text.  

Key features:

* A "uri" must be present "type" indicates that the generic content type is 'a
* text' "byline" and "headline" are typical text news metadata The text news as
* such is represented by "body" - in two format variants: plain text and HTML.

[source,json]
{
  "uri" : "http://ninjs.example.com/newsitems/20130709simp123",
  "type" : "text",
  "versioncreated" : "2013-07-09T10:37:00Z",
  "byline" : "Paulo Santalucia and Frances d'Emilio",
  "headline" : "Captain of wrecked cruise ship on trial in Italy",
  "body_text" : "GROSSETO, Italy (AP) -- The trial of the captain of the
  shipwrecked Costa Concordia cruise liner has begun in a theater converted into
  a courtroom in Tuscany to accommodate all the survivors and relatives of the
  32 victims who want to see justice carried out in the 2012 tragedy. The sole
  defendant, Francesco Schettino, his eyes shaded by sunglasses and slipping into
  a back door, made no comment to reporters as he arrived for his trial Tuesday
  on charges of multiple manslaughter, abandoning ship and causing the shipwreck
  near the island of Giglio. His lawyer, Domenico Pepe, told reporters that, as
  expected, the judge was postponing the hearing due to an eight-day nationwide
  lawyers' strike. Pepe said some 1,000 witnesses are expected to eventually
  testify. Many of them are expected to be from among the 4,2000 passengers and
  crew aboard the ship that struck a jagged reef off Giglio, took on water and
  capsized. Schettino has denied wrongdoing.",
  "body_xhtml" : "<p>GROSSETO, Italy (AP) -- The trial of the captain of the
  shipwrecked Costa Concordia cruise liner has begun in a theater converted into
  a courtroom in Tuscany to accommodate all the survivors and relatives of the
  32 victims who want to see justice carried out in the 2012 tragedy.</p>
  <p>The sole defendant, Francesco Schettino, his eyes shaded by sunglasses and
  slipping into a back door, made no comment to reporters as he arrived for his
  trial Tuesday on charges of multiple manslaughter, abandoning ship and causing
  the shipwreck near the island of Giglio.</p>
  <p>His lawyer, Domenico Pepe, told reporters that, as expected, the judge was
  postponing the hearing due to an eight-day nationwide lawyers' strike.</p>
  <p>Pepe said some 1,000 witnesses are expected to eventually testify. Many of
  them are expected to be from among the 4,2000 passengers and crew aboard the
  ship that struck a jagged reef off Giglio, took on water and capsized.
  Schettino has denied wrongdoing.</p>"
}

==== A more complex example

* Metadata about the content are added to the example above.  "person", "place",
* "organisation" employ a structure which provides human readable names for the
* entity but also machine readable identifiers by the "scheme" and "code"
* properties. 

[source,json]
{
  "uri" : "http://ninjs.example.com/newsitems/20130709med123",
  "type" : "text",
  "profile" : "text-only",
  "versioncreated" : "2013-07-09T10:37:00Z",
  "copyrightnotice" : "Copyright 2013 The News Agency, www.tna.org - all rights reserved.",
  "language" : "en",
  "person" : [
    {
      "name" : "Francesco Schettino",
      "rel" : "about",
      "scheme" : "http://www.freebase.com/m/",
      "code" : "0hzcydt"
    }
  ],
  "place" : [
    {
      "name" : "Grossetto",
      "rel" : "mentions"
    },
    {
      "name" : "Tuscany",
      "rel" : "mentions"
    },
    {
      "name" : "Italy",
      "rel" : "mentions",
      "scheme" : "http://cvx.iptc.org/iso3166-1a2/",
      "code" : "it"
    }
  ],
  "organisation" : [
    {
      "name" : "Costa Crociere SpA",
      "rel" : "mentions"
    }
  ],
  "byline" : "Paulo Santalucia and Frances d'Emilio",
  "located" : "Grossetto, Italy",
  "headline" : "Captain of wrecked cruise ship on trial in Italy",
  "body_text" : "GROSSETO, Italy (AP) -- The trial of the captain of the
  shipwrecked Costa Concordia cruise liner has begun in a theater converted into
  a courtroom in Tuscany to accommodate all the survivors and relatives of the
  32 victims who want to see justice carried out in the 2012 tragedy. The sole
  defendant, Francesco Schettino, his eyes shaded by sunglasses and slipping
  into a back door, made no comment to reporters as he arrived for his trial
  Tuesday on charges of multiple manslaughter, abandoning ship and causing the
  shipwreck near the island of Giglio. His lawyer, Domenico Pepe, told reporters
  that, as expected, the judge was postponing the hearing due to an eight-day
  nationwide lawyers' strike. Pepe said some 1,000 witnesses are expected to
  eventually testify. Many of them are expected to be from among the 4,2000
  passengers and crew aboard the ship that struck a jagged reef off Giglio, took
  on water and capsized. Schettino has denied wrongdoing.",
  "body_xhtml" : "<p>GROSSETO, Italy (AP) -- The trial of the captain of the
  shipwrecked Costa Concordia cruise liner has begun in a theater converted into
  a courtroom in Tuscany to accommodate all the survivors and relatives of the
  32 victims who want to see justice carried out in the 2012 tragedy.</p>
  <p>The sole defendant, Francesco Schettino, his eyes shaded by sunglasses and
  slipping into a back door, made no comment to reporters as he arrived for his
  trial Tuesday on charges of multiple manslaughter, abandoning ship and causing
  the shipwreck near the island of Giglio.</p>
  <p>His lawyer, Domenico Pepe, told reporters that, as expected, the judge was
  postponing the hearing due to an eight-day nationwide lawyers' strike.</p>
  <p>Pepe said some 1,000 witnesses are expected to eventually testify. Many of
  them are expected to be from among the 4,2000 passengers and crew aboard the
  ship that struck a jagged reef off Giglio, took on water and capsized.
  Schettino has denied wrongdoing.</p>"
}

==== More Examples on Github

You can find more examples of ninjs representations of news releases hosted on
https://github.com/iptc/newsinjson/tree/master/examples[the ninjs Github
repository].

=== Photo-only example

A simple photo-only example.

Key features:

* A "uri" must be present
* "type" indicates that the generic content type is 'a picture'
* "byline", "headline", "description" (in plain text and HTML format) are
typical photo metadata
* The image itself is represented by "renditions". Two are available in this
example: a main version and a small version.

[source,json]
{
  "uri" : "http://ninjs.example.com/newsitems/20130709simpPh123",
  "type" : "picture",
  "versioncreated" : "2013-07-08T08:12:00Z",
  "byline" : "Paulo Santalucia",
  "headline" : "Costa Concordia cruise ship",
  "description_text": "The Costa Concordia cruise ship lies on its side in the
  waters of the Tuscan island of Giglio, Italy, Monday, July 8, 2013. The luxury
  cruise ship ran aground off the coast of Tuscany on Jan 13, 2012, sending
  water pouring in through a 160-foot (50-meter) gash in the hull and forcing
  the evacuation of some 4,200 people from the listing vessel early.",
  "description_xhtml": "<p>The Costa Concordia cruise ship lies on its side in
  the waters of the Tuscan island of Giglio, Italy,<br />
  Monday, July 8, 2013. The luxury cruise ship ran aground off the coast of
  Tuscany on Jan 13, 2012, sending water pouring in through a 160-foot
  (50-meter) gash in the hull and forcing the evacuation of some 4,200 people
  from the listing vessel early.</p>",
  "renditions" : {
    "main" : {
      "href" : "http://hosted.ap.org/photos/2/2643c588-dc8d-4923-bebd-e3b904edbb3a-big.jpg",
      "mimetype": "image/jpg",
      "title" : "Mid Resolution",
      "height" : 281,
      "width" : 429
    },
    "small" : {
      "href" : "http://hosted.ap.org/photos/2/2643c588-dc8d-4923-bebd-e3b904edbb3a-small.jpg",
      "mimetype": "image/jpg",
      "title" : "Low Resolution",
      "height" : 117,
      "width" : 179
    }
  }
}

=== Multimedia example

Example for multimedia content.

The ninjs object includes:

* text news as main object
* a main picture illustrating the text news (in ninjs terms: associated with the text news)
* a portrait of a person the text news is about (also: associated)

[source,json]
{
  "uri" : "http://ninjs.example.com/newsitems/20130709cplx456",
  "type" : "composite",
  "profile" : "text-photo",
  "versioncreated" : "2013-07-09T10:39:00Z",
  "copyrightnotice" : "Copyright 2013 The News Agency, www.tnag.org - all rights reserved.",
  "language" : "en",
  "person" : [
    {
      "name" : "Francesco Schettino",
      "rel" : "about",
      "scheme" : "http://www.freebase.com/m/",
      "code" : "0hzcydt"
    }
  ],
  "place" : [
    {
      "name" : "Grossetto",
      "rel" : "mentions"
    },
    {
      "name" : "Tuscany",
      "rel" : "mentions"
    },
    {
      "name" : "Italy",
      "rel" : "mentions",
      "scheme" : "http://cvx.iptc.org/iso3166-1a2/",
      "code" : "it"
    }
  ],
  "organisation" : [
    {
      "name" : "Costa Crociere SpA",
      "rel" : "mentions"
    }
  ],
  "byline" : "Paulo Santalucia and Frances d'Emilio",
  "located" : "Grossetto, Italy",
  "headline" : "Captain of wrecked cruise ship on trial in Italy",
  "body_text" : "GROSSETO, Italy (AP) -- The trial of the captain of the
  shipwrecked Costa Concordia cruise liner has begun in a theater converted into
  a courtroom in Tuscany to accommodate all the survivors and relatives of the
  32 victims who want to see justice carried out in the 2012 tragedy. The sole
  defendant, Francesco Schettino, his eyes shaded by sunglasses and slipping
  into a back door, made no comment to reporters as he arrived for his trial
  Tuesday on charges of multiple manslaughter, abandoning ship and causing the
  shipwreck near the island of Giglio. His lawyer, Domenico Pepe, told reporters
  that, as expected, the judge was postponing the hearing due to an eight-day
  nationwide lawyers' strike. Pepe said some 1,000 witnesses are expected to
  eventually testify. Many of them are expected to be from among the 4,2000
  passengers and crew aboard the ship that struck a jagged reef off Giglio, took
  on water and capsized. Schettino has denied wrongdoing.",
  "body_xhtml" : "<p>GROSSETO, Italy (AP) -- The trial of the captain of the
  shipwrecked Costa Concordia cruise liner has begun in a theater converted into
  a courtroom in Tuscany to accommodate all the survivors and relatives of the
  32 victims who want to see justice carried out in the 2012 tragedy.</p>
  <p>The sole defendant, Francesco Schettino, his eyes shaded by sunglasses and
  slipping into a back door, made no comment to reporters as he arrived for his
  trial Tuesday on charges of multiple manslaughter, abandoning ship and causing
  the shipwreck near the island of Giglio.</p>
  <p>His lawyer, Domenico Pepe, told reporters that, as expected, the judge was
  postponing the hearing due to an eight-day nationwide lawyers' strike.</p>
  <p>Pepe said some 1,000 witnesses are expected to eventually testify. Many of
  them are expected to be from among the 4,2000 passengers and crew aboard the
  ship that struck a jagged reef off Giglio, took on water and capsized.
  Schettino has denied wrongdoing.</p>",
  "associations" : {
    "mainpic" : {
      "uri" : "http://ninjs.example.com/newsitems/20130709simpPh123",
      "type" : "picture",
      "versioncreated" : "2013-07-08T08:12:00Z",
      "copyrightnotice" : "Copyright 2013 The News Agency, www.tna.org - all rights reserved.",
      "object" : [
        {
          "name" : "Costa Concordia",
          "rel" : "about",
          "scheme" : "http://www.freebase.com/m/",
          "code" : "0cd72h"
        }
      ],
      "place" : [
        {
          "name" : "Giglio",
          "rel" : "mentions"
        },
        {
          "name" : "Tuscany",
          "rel" : "mentions"
        },
        {
          "name" : "Italy",
          "rel" : "mentions",
          "scheme" : "http://cvx.iptc.org/iso3166-1a2/",
          "code" : "it"
        }
      ],
      "organisation" : [
        {
          "name" : "Costa Crociere SpA",
          "rel" : "mentions"
        }
      ],
      "byline" : "Paulo Santalucia",
      "headline" : "Costa Concordia cruise ship",
      "description_text": "The Costa Concordia cruise ship lies on its side in
      the waters of the Tuscan island of Giglio, Italy, Monday, July 8, 2013.
      The luxury cruise ship ran aground off the coast of Tuscany on Jan 13,
      2012, sending water pouring in through a 160-foot (50-meter) gash in the
      hull and forcing the evacuation of some 4,200 people from the listing
      vessel early.",
      "description_xhtml": "<p>The Costa Concordia cruise ship lies on its side
      in the waters of the Tuscan island of Giglio, Italy,</ br> Monday, July 8,
      2013. The luxury cruise ship ran aground off the coast of Tuscany on Jan
      13, 2012, sending water pouring in through a 160-foot (50-meter) gash in
      the hull and forcing the evacuation of some 4,200 people from the listing
      vessel early. </p>",
      "renditions" : {
        "main" : {
          "href" : "http://hosted.ap.org/photos/2/2643c588-dc8d-4923-bebd-e3b904edbb3a-big.jpg",
          "mimetype": "image/jpg",
          "title" : "Mid Resolution",
          "height" : 281,
          "width" : 429
        },
        "small" : {
          "href" : "http://hosted.ap.org/photos/2/2643c588-dc8d-4923-bebd-e3b904edbb3a-small.jpg",
          "mimetype": "image/jpg",
          "title" : "Low Resolution",
          "height" : 117,
          "width" : 179
        }
      }
    },
    "portrait" : {
      "uri" : "http://ninjs.example.com/newsitems/20130709simpPh456",
      "type" : "picture",
      "versioncreated" : "2013-07-09T10:12:00Z",
      "copyrightnotice" : "Copyright 2013 The News Agency, www.tna.org - all rights reserved.",
      "person" : [
        {
          "name" : "Francesco Schettino",
          "rel" : "about",
          "scheme" : "http://www.freebase.com/m/",
          "code" : "0hzcydt"
        }
      ],
      "place" : [
        {
          "name" : "Grossetto",
          "rel" : "mentions"
        },
        {
          "name" : "Tuscany",
          "rel" : "mentions"
        },
        {
          "name" : "Italy",
          "rel" : "mentions",
          "scheme" : "http://cvx.iptc.org/iso3166-1a2/",
          "code" : "it"
        }
      ],
      "organisation" : [
        {
          "name" : "Costa Crociere SpA",
          "rel" : "mentions"
        }
      ],
      "byline" : "Paulo Santalucia", "headline" : "Francesco Schettino at court",
      "description_text" : "Francesco Schettino the captain of the Costa
      Concordia cruise ship at court in Grossetto, Italy, on 9 July 2013",
      "renditions" : {
        "main" : {
          "href" : "http://hosted.ap.org/photos/2/2643c588-dc8d-4923-bebd-e3b904xyz000-big.jpg",
          "mimetype": "image/jpg",
          "title" : "Mid Resolution",
          "height" : 430,
          "width" : 280
        },
        "small" : {
          "href" : "http://hosted.ap.org/photos/2/2643c588-dc8d-4923-bebd-e3b904xyz000-small.jpg",
          "mimetype": "image/jpg",
          "title" : "Low Resolution",
          "height" : 180,
          "width" : 120
        }
      }
    }
  }
}

== ninjs Best Practices and How Tos

Here we describe some best practices for working with ninjs in your own organisation.

=== Best Practice for Naming of Properties

ninjs allows users to create their own names of extensible properties. Here we
describe some best practices for choosing your own names.

body_::
The body is the main text of the news release. The ninjs document can
contain multiple body elements, each representing the same text but in different
formats. Body elements always begin with the name "`body_`", with a tag appended
to the name. This tag should describe the format of the text in the element.
+
* You should always include a plain text body element, including the body text
stripped of all formatting: `body_text`
* For additional body elements, choose names that can be easily recognised by
automated processors, such as `body_html` and `body_xhtml`
WARNING: You should *avoid* body element names that do not describe the format of the
body text being represented, such as `body_format1` or `body_0`.

description_::
A description is a free-form textual description of the content of
the item. For example, a description can be used to add additional information
about a headline associated with a photograph. Multiple description elements can
be used to represent the same description in different formats.
+
Description elements always begin with the name "`description_`", with a tag
appended to the name. This tag should describe the format of the text in the
element.
+
When using the description_ element:
+
* Always include a plain text description element: `description_text`
* For additional description elements, choose names that can be easily recognised
by automated processors, such as `description_html` and `description_xhtml`
* You should *avoid* description element names that do not describe the format of the
description text being represented, such as `description_myformat` or
`description_0 renditions`.

renditions::
The renditions object is a wrapper for different versions of non-textual content
of the news object. This is where photographs and multimedia items will be
found.
+
Each object in the renditions object is named. Any name can be chosen for these
objects, but the name must contain only alphanumeric characters of the ASCII
character set. 
+
TODO: more guidance on a naming strategy reflecting e.g. ranking and more.

associations::
The associations object is a wrapper which contains news objects (other ninjs
documents) that are associated with this news object. Any name can be chosen
for these objects, but the name must contain only alphanumeric characters of
the ASCII character set.

=== How to escape XML content for inclusion in JSON objects

JSON String values cannot contain characters: ", \, and various control
characters like tabs.  Therefore, we need to escape these characters in our
content when marshaling data into JSON objects. The XSL below shows how to
do this using XSL.

The XSL Template at [...] extracts the body of an NITF document (samples
available here: https://iptc.org/standards/nitf/using-nitf/) and creates a
simple JSON object. The resulting object is not yet a valid ninjs object,
however it will be valid JSON.

=== How to create provider-specific extensions

In some cases, your news releases may have content that does not fit into the
objects that are defined in the ninjs standard. In these cases, you should
extend (and rename) the IPTC ninjs schema.

To do this, do the following:

. make a copy of the schema file
. change the URL of the "id" property of IPTC's ninjs 1.0 ...
+
[source,json]
{
  "$schema": "http://json-schema.org/draft-03/schema#",
  "id" : "http://www.iptc.org/std/ninjs/ninjs-schema_1.0.json#",
  "type" : "object",
  ...
+
... to your example.com-ninjs 0.1
+
[source,json]
{
  "$schema": "http://json-schema.org/draft-03/schema#",
  "id" : "http://www.example.com/e-ninjs-schema_0.1.json#",
  "type" : "object",
  ... 
+
. add your own properties to your copy of the schema. For example, to add a
sub-headline:
+
[source,json]
{
  "$schema": "http://json-schema.org/draft-03/schema#",
  "id" : "http://www.example.com/e-ninjs-schema_0.1.json#",
  "type" : "object",
  ...
  "headline" : {
    "description" : "A brief and snappy introduction to the content, designed to
    catch the reader's attention",
    "type" : "string"
  },
  "subhead" : {
    "description" : "An additional line supporting the snappy introduction to
    the content",
    "type" : "string"
  },
  ...
+
. change the reference from the "associations" property definition
(`"$ref": "http://www.iptc.org/std/ninjs/ninjs-schema_1.0.json#"`) to point to
your new schema:
[source,json]
{
  "$schema": "http://json-schema.org/draft-03/schema#",
  "id" : "http://www.example.com/e-ninjs-schema_0.1.json#",
  "type" : "object",
  ...
  "associations" : {
    "description" : "Content of news objects which are associated
    with this news object",
    "type" : "object",
    "additionalProperties" : false,
    "patternProperties" : {
      "^[a-zA-Z0-9]+" :  {
        "$ref": "http://www.example.com/e-ninjs-schema_0.1.json#"
      }
    }
  }
  ...
}
+
. save your new schema to a location where users of the schema can access it,
which should be the same URL used for the "id" property and the "$ref" property
of the "associations" definition (this is used for validating that an associated
object is a complete ninjs document and this is how the schema knows to
recursively validate associated objects):
+
[source,json]
{
  "$schema": "http://json-schema.org/draft-03/schema#",
  "id" : "http://www.example.com/e-ninjs-schema_0.1.json#",
  "type" : "object",
  ...
}
+
the file should be saved to: http://www.example.com/e-ninjs-schema_0.1.json

This is an example ninjs document that includes a sub-headline in an extended
ninjs document:

[source,json]
{
  "uri": "http://ninjs.example.com/newsitems/20130709simp123",
  "type": "text",
  "versioncreated": "2013-07-09T10:37:00Z",
  "byline": "Paulo Santalucia and Frances d'Emilio",
  "headline": "Captain of wrecked cruise ship on trial in Italy",
  "subhead": "Stranded passengers watch with interest",
  "body_text": "GROSSETO, Italy (AP) -- The trial of the captain of the
  shipwrecked Costa Concordia cruise liner has begun in a theater converted into
  a courtroom in Tuscany to accommodate all the survivors and relatives of the
  32 victims who want to see justice carried out in the 2012 tragedy. The sole
  defendant, Francesco Schettino, his eyes shaded by sunglasses and slipping
  into a back door, made no comment to reporters as he arrived for his trial
  Tuesday on charges of multiple manslaughter, abandoning ship and causing the
  shipwreck near the island of Giglio. His lawyer, Domenico Pepe, told reporters
  that, as expected, the judge was postponing the hearing due to an eight-day
  nationwide lawyers' strike. Pepe said some 1,000 witnesses are expected to
  eventually testify. Many of them are expected to be from among the 4,2000
  passengers and crew aboard the ship that struck a jagged reef off Giglio, took
  on water and capsized. Schettino has denied wrongdoing."
}

=== How to validate objects

==== Validating a ninjs document

JSON Schema is the de-facto standard for validating JSON documents. The IPTC
maintains schemas for each version of the ninjs standard. These schemas can be
used to validate ninjs documents. 

This is the latest IPTC ninjs schema available for download.

==== Sample Code

Sample code demonstrating how to validate ninjs documents, along with example
ninjs documents, can be found in the IPTC newsinjson github repository.

==== Online Validator

You can also validate ninjs documents by pasting the schema and document into
this online validator. It is built on the json-schema-validator library:

http://json-schema-validator.herokuapp.com


